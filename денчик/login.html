<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Дена в туза </title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Arial', sans-serif;
        }

        body {
            background-color: #0a0a0a;
            color: #fff;
        }

        .header {
            height: 100vh;
            background: linear-gradient(rgba(0,0,0,0.7), rgba(0,0,0,0.7)),
                        url('images/header-bg.jpg') center/cover fixed;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            overflow: hidden;
        }

        .header h1 {
            font-size: 5rem;
            text-transform: uppercase;
            letter-spacing: 10px;
            text-shadow: 3px 3px 5px rgba(255,0,0,0.5);
            animation: fadeIn 2s ease-in;
            transition: all 1s ease-in-out;
        }

        .gallery {
            padding: 50px 20px;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            max-width: 1200px;
            margin: 0 auto;
        }

        .photo {
            position: relative;
            overflow: hidden;
            border-radius: 5px;
            transition: transform 0.3s, box-shadow 0.3s;
            cursor: pointer;
        }

        .photo:hover {
            transform: scale(1.05);
            box-shadow: 0 0 20px rgba(255,0,0,0.4);
        }

        .photo img {
            width: 100%;
            height: 400px;
            object-fit: cover;
    
            transition: filter 0.3s;
        }

        .photo:hover img {
            filter: grayscale(0);
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(-50px); }
            to { opacity: 1; transform: translateY(0); }
        }

        @media (max-width: 768px) {
            .header h1 {
                font-size: 3rem;
                text-align: center;
            }
        }
        .button {
            border-radius: 10px;
            background-color: rgba(177, 7, 7, 0.603);
            color: #fff;
            text-decoration: none;
            transition: all 1s ease-in-out;

        }
        .button:hover {
            box-shadow: 0 0 15px 5px rgba(190, 4, 4, 0.5);
            transform: scale(1.05);
        }
        .header h1:hover {
           
            transform: scale(1.05);
        }
       
  
       
    .gallery {
        padding: 30px 15px;
        display: grid;
        grid-template-columns: repeat(5, 1fr);
        gap: 20px;
        max-width: 1500px;
        margin: 0 auto;
    }

    .photo {
        position: relative;
        overflow: hidden;
        border-radius: 3px;
        transition: all 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
        box-shadow: 0 5px 15px rgba(0,0,0,0.3);
        height: 250px;
    }

    .photo:hover {
        transform: translateY(-10px);
        box-shadow: 0 15px 30px rgba(255,0,0,0.4);
        z-index: 2;
    }

    .photo img {
        width: 100%;
        height: 100%;
        object-fit: cover;
        filter: grayscale(0.3);
        transition: filter 0.3s;
    }

    .photo:hover img {
        filter: grayscale(0);
    }

    
  
    .gallery {
        padding: 15px;
        display: grid;
        grid-template-columns: repeat(5, 1fr);
        gap: 10px;
        max-width: 1500px;
        margin: 0 auto;
    }

    .photo {
        position: relative;
        overflow: hidden;
        border-radius: 3px;
        transition: transform 0.3s;
        height: 200px;
    }

    .photo img {
        width: 100%;
        height: 100%;
        object-fit: cover;
        
    }

    /* Мобильная адаптация */
    @media (max-width: 1200px) {
        .gallery {
            grid-template-columns: repeat(4, 1fr);
        }
    }

    @media (max-width: 992px) {
        .gallery {
            grid-template-columns: repeat(3, 1fr);
            gap: 15px;
        }
        .photo {
            height: 250px;
        }
    }

    @media (max-width: 768px) {
        .gallery {
            grid-template-columns: repeat(2, 1fr);
            gap: 10px;
            padding: 10px;
        }
        .photo {
            height: 180px;
            border-radius: 2px;
        }
    }

    @media (max-width: 480px) {
        .gallery {
            grid-template-columns: 1fr;
            gap: 8px;
        }
        .photo {
            height: 250px;
            margin: 0 5px;
        }
    }
    @media (max-width: 480px) {
        .mobile-buttons {
            top: 5px;
            gap: 5px;
            padding: 0 5px;
        }
        
        .mobile-button {
            font-size: 13px !important;
            padding: 10px 15px !important;
            max-width: 140px !important;
        }
    }
    
    
    /* Оптимизация тач-событий */
    .photo {
        -webkit-tap-highlight-color: transparent;
        touch-action: manipulation;
    }

    /* Ландшафтная ориентация */
    @media (max-width: 768px) and (orientation: landscape) {
        .gallery {
            grid-template-columns: repeat(3, 1fr);
        }
        .photo {
            height: 150px;
        }
        
    }
    .gacha-container {
        text-align: center;
        padding: 20px;
    }

    #gachaButton {
        padding: 15px 30px;
        font-size: 1.2em;
        background: #d32f2f;
        color: white;
        border: none;
        border-radius: 50px;
        cursor: pointer;
        transition: 0.3s;
        box-shadow: 0 5px 15px rgba(0,0,0,0.3);
    }

    #gachaButton:hover {
        transform: scale(1.05);
        background: #b71c1c;
    }

    .result-container {
        margin-top: 30px;
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
        gap: 15px;
        padding: 15px;
    }

    .photo-card {
        position: relative;
        border-radius: 10px;
        overflow: hidden;
        transition: 0.3s;
        aspect-ratio: 1;
    }

    .photo-card img {
        width: 100%;
        height: 100%;
        object-fit: cover;
    }

    
    .common { border: 3px solid #616161; }
    .rare { border: 3px solid #1976d2; }
    .epic { border: 3px solid #9c27b0; }
    .legendary { border: 3px solid #ff9800; }

    
    @keyframes glow {
        0% { filter: brightness(1); }
        50% { filter: brightness(1.2); }
        100% { filter: brightness(1); }
    }

    .new-card {
        animation: glow 1s ease-in-out 3;
    }
    a {
        
        transition-duration: 5s;
        transition-timing-function: ease-out;
        transition-property: all;
    }
    a:hover {
        box-shadow: 0 0 30px red;
        
    }
    .mobile-button {
        height: 35px;
        width: 105px;
        border-radius: 5px;
        text-align: center;
        margin: auto;
        padding: 5px;
    }
    
</style>

 
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">



</head>

            


<body>
    <header class="header" style="position: relative;">
        <a href="den.html" class="den-button" 
           style="position: absolute; 
                  top: 20px; 
                  left: 20px; 
                  padding: 10px 20px; 
                  background: #d32f2f; 
                  color: white; 
                  text-decoration: none; 
                  border-radius: 5px;
                  font-weight: bold;
                  transition: 1s;
                  z-index: 1000;">
            ДЕНЬКА
        </a> 
        <a href="Weight.html" class="weight-button" 
        style="position: absolute; 
               top: 20px; 
               left: 150px; 
               padding: 10px 20px; 
               background: #d32f2f; 
               color: white; 
               text-decoration: none; 
               border-radius: 5px;
               font-weight: bold;
               transition: 1s;
               z-index: 1000;">
         Mr.Шпрот
     </a>
     <div class="mobile-buttons" style=" top: 10px; left: 0; right: 0; display: flex; justify-content: center; gap: 10px; z-index: 1000; padding: 0 10px;">
        <a href="ludoman.html" 
           class="mobile-button"
           style="position: absolute;
           left: 150px;
           top: 60px;
                  background: #d32f2f;
                  color: white;
                  text-decoration: none;
                  border-radius: 8px;
                  font-weight: bold;
                  font-size: 14px;
                  white-space: nowrap;
                  transition: 0.3s;
                  flex: 1;
                  max-width: 160px;
                  text-align: center;">
            Депнул бабку
        </a>
        
        <a href="shampun.html" 
           class="mobile-button"
           style="position: absolute;
                  left: 20px;
                  top: 60px;
                  background: #d32f2f;
                  color: white;
                  text-decoration: none;
                  border-radius: 8px;
                  font-weight: bold;
                  font-size: 14px;
                  white-space: nowrap;
                  transition: 0.3s;
                  flex: 1;
                  max-width: 160px;
                  text-align: center;">
            Шампунь
        </a>
    </div>
        <h1>ПРЫЩИ</h1>
    </header>
   
    
    <script>
       
 if(sessionStorage.getItem('authenticated') !== 'true') {
    window.location.replace('/index.html'); 
 }
        function adjustLastRow() {
            const gallery = document.querySelector('.gallery');
            const items = gallery.children;
            const columns = window.getComputedStyle(gallery)
                .gridTemplateColumns.split(' ').length;
    
            if(items.length % columns !== 0) {
                const lastItem = items[items.length - 1];
                lastItem.style.gridColumnEnd = `span ${columns}`;
            }
        }
    
        window.addEventListener('resize', adjustLastRow);
        adjustLastRow();
    </script>

   
  

    <script>
        
        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.style.opacity = 1;
                    entry.target.style.transform = 'translateY(0)';
                }
            });
        });

        document.querySelectorAll('.photo').forEach((element) => {
            element.style.opacity = 0;
            element.style.transform = 'translateY(50px)';
            element.style.transition = 'all 0.6s ease-out';
            observer.observe(element);
        });
    </script>
    <a class="button" onclick="logout()" style="position: fixed; top: 10px; right: 10px; background: red; padding: 5px 10px;">Выход</a>

    <script>
    function logout() {
        sessionStorage.removeItem('authenticated');
        window.location.href = "index.php";
    }
    </script>
    <script>
    
        document.addEventListener('touchstart', e => {
            touchStartX = e.changedTouches[0].screenX;
        }, false);
    
        document.addEventListener('touchend', e => {
            const touchEndX = e.changedTouches[0].screenX;
            if(Math.abs(touchEndX - touchStartX) > 50) {
                e.preventDefault();
            }
        }, false);
    
        function optimizeImages() {
            const photos = document.querySelectorAll('.photo img');
            const isMobile = window.innerWidth <= 768;
            
            photos.forEach(img => {
                if(isMobile) {
                    img.loading = 'lazy';
                    img.decoding = 'async';
                }
            });
        }
        
        window.addEventListener('load', optimizeImages);
        window.addEventListener('resize', optimizeImages);
    </script>
    <div class="gacha-container">
        <button id="gachaButton">KILL YOURSELF!!</button>
        <div class="result-container" id="results"></div>
    </div>
    


    <script>
       
        const photoGroups = {
            common: {
                folder: 'common',
                count: 16
            },
            rare: {
                folder: 'rare',
                count: 16
            },
            epic: {
                folder: 'epic',
                count: 11
            },
            legendary: {
                folder: 'legendary',
                count: 15
            }
        };

        const chances = {
            common: 45,
            rare: 28,
            epic: 20,
            legendary: 7
        };

        function getRandomPhoto() {
            const random = Math.random() * 100;
            let selectedGroup = 'common';
            
            if(random > 90) selectedGroup = 'legendary';
            else if(random > 80) selectedGroup = 'epic';
            else if(random > 75) selectedGroup = 'rare';

            const group = photoGroups[selectedGroup];
            const photoNumber = Math.floor(Math.random() * group.count) + 1;
            
            return {
                path: `images/${group.folder}/photo (${photoNumber}).jpg`,
                rarity: selectedGroup
            };
        }

        function createPhotoCard(photo) {
            const card = document.createElement('div');
            card.className = `photo-card ${photo.rarity} new-card`;
            card.innerHTML = `<img src="${photo.path}" alt="${photo.rarity} photo">`;
            
            card.addEventListener('animationend', () => {
                card.classList.remove('new-card');
            });

            return card;
        }

        document.getElementById('gachaButton').addEventListener('click', () => {
    
    const vibrate = (duration) => {
        if(navigator.vibrate) {
        
            navigator.vibrate(duration);
        } else if (window.webkit && window.webkit.messageHandlers && window.webkit.messageHandlers.vibrate) {
         
            window.webkit.messageHandlers.vibrate.postMessage(duration);
        } else {
        
            const btn = document.getElementById('gachaButton');
            btn.style.transform = 'translateX(3px)';
            setTimeout(() => {
                btn.style.transform = 'translateX(-3px)';
                setTimeout(() => btn.style.transform = '', 50);
            }, 50);
        }
    };

 
    vibrate([50, 25, 50]);


    const result = getRandomPhoto();
    const card = createPhotoCard(result);
    document.getElementById('results').prepend(card);
});
      
        </script>
       
        
       
    
</body>
</html>